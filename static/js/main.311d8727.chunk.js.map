{"version":3,"sources":["Map.js","Grid.js","Graph.js","components/Title.js","Drawer.js","components/Login/Login.js","components/Register/create.js","components/Logout.js","App.js","Home.js","serviceWorker.js","index.js"],"names":["style","width","height","window","geojsonLayer","lfMap","map","legend","L","control","position","onAdd","div","DomUtil","create","innerHTML","MapData","props","state","data","renderLegend","kftoken","toposkaermkortwmts","tileLayer","wms","layers","token","format","attribution","kommuneWms","transparent","center","zoom","scale","addTo","undefined","removeLayer","geoJSON","onEachFeature","feature","layer","bindPopup","properties","status","navn","pointToLayer","latlng","marker","icon","iconUrl","selector","shadowUrl","iconAnchor","shadowAnchor","popupAnchor","centerCoords","features","filter","includes","length","geometry","coordinates","getCenterPoint","setView","fitBounds","getBounds","this","renderMap","renderFeatures","console","log","id","React","Component","StatusFormatter","value","color","StatusTypeProvider","formatterComponent","PnummerFormatter","link","href","target","rel","PnummerProvider","getRowId","row","GridData","rows","sorting","columnName","direction","statusColumns","pcols","grouping","changeSorting","setState","changeGrouping","updateData","total","totalRendered","pc","index","s","replace","Paper","textAlign","columns","name","title","defaultFilters","defaultSorting","for","defaultColumnWidths","showSortingControls","filteredRows","PureComponent","GraphData","clicked","fill","catData","dat","tilfl","x","y","getSummaryData","margin","theme","VictoryTheme","material","domainPadding","barWidth","dataComponent","events","onMouseOver","fillColor","d","datum","labels","Title","Typography","variant","useStyles","makeStyles","list","fullList","nested","paddingLeft","TemporaryDrawer","classes","handleDrawer","filterCols","handleCheckedFilters","reset","doFilter","filterWords","useState","postdistrikt","postnummer","opened","setOpened","Drawer","anchor","open","drawerOpen","onClose","categories","cols","comps","forEach","categorie","key","col","ListItem","button","className","ListItemText","primary","Object","keys","ListItemSecondaryAction","Checkbox","checked","values","onChange","e","edge","_list","role","List","ListItemIcon","Button","size","onClick","dense","text","Fragment","handleClick","Collapse","in","timeout","unmountOnExit","component","disablePadding","sideList","root","flexGrow","container","display","flexWrap","textField","marginLeft","spacing","marginRight","LoginComponent","loginData","handleInputChange","handleLoginDatachange","Grid","item","xs","TextField","label","email","type","password","CreateUserDialog","error","helperText","organisation","password2","consent","btnDisabled","userInfo","setUserInfo","displayError","event","handleDialogClose","handleCreateDialogClose","Dialog","isRegisterFormShown","aria-labelledby","DialogTitle","DialogContent","DialogContentText","autoFocus","fullWidth","FormControlLabel","FormHelperText","DialogActions","justifyContent","disabled","handleRegister","StyledMenu","withStyles","paper","border","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","backgroundColor","palette","main","common","white","MenuItem","Logout","anchorEl","setAnchorEl","IconButton","aria-controls","aria-haspopup","currentTarget","keepMounted","Boolean","handleLogout","moment","locale","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","createMuiTheme","typography","useNextVariants","suppressDeprecationWarnings","uniqueValuesGroupedByKey","arrOfObj","ret","uniqueElemsOfSameKey","_arrOfObj","colValues","elem","Set","TabContainer","children","App","startDate","subtract","startOf","endDate","endOf","kommuner","komkode","komnr","csvData","loading","completed","canSendRequest","filterOpen","alertOpen","alertMessage","uniqueVals","dataToRender","isLoginShown","sessionId","handleChange","bind","handleStart","handleEnd","handleSelect","handleDoneClick","handleFilterOpen","handleFilterClose","handleDrawerOpen","updateRenderDataFromTable","onAlertClose","handleCreateDialogOpen","handleLogin","filteredCategories","filters","cat","temp","obj","res","indexOf","message","split","group","checkedGroup","indexToUpdate","findIndex","elementToUpdate","slice","that","jQuery","ajax","url","dataType","success","koms","preveState","userObj","subuser","usergroup","parentdb","org","_loginData","user","schema","post","JSON","stringify","get","session_id","dataUrl","csv","form","virksomhedsform","getVirkForm","_startdato","startdato","substring","prevState","persist","getData","getKommuner","navigate","date","MuiThemeProvider","AppBar","Toolbar","Login","Link","underline","classnames","noValidate","autoComplete","select","placeholder","SelectProps","native","InputLabelProps","shrink","kom","komnavn","utils","MomentUtils","DatePicker","arial-label","Tooltip","element","filename","Tabs","centered","Tab","aria-label","Graph","marginTop","menu","progress","source","createHashSource","history","createHistory","Home","path","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.311d8727.chunk.js","sourcesContent":["import React from \"react\";\r\nimport L from \"leaflet\";\r\n//import axios from \"axios\";\r\n\r\nconst style = {\r\n  width: \"100%\",\r\n  height: \"600px\"\r\n};\r\n\r\nvar geojsonLayer;\r\nvar map;\r\nwindow.geojsonLayer = geojsonLayer;\r\nwindow.lfMap = map;\r\n\r\nvar legend = L.control({ position: \"bottomleft\" });\r\nlegend.onAdd = function(map) {\r\n  var div = L.DomUtil.create(\"div\", \"legend\");\r\n  div.innerHTML += \"<h4>Signaturforklaring</h4>\";\r\n  div.innerHTML +=\r\n    '<i style=\"background:#0020d7\"></i><span>NyStartet</span><br>';\r\n  div.innerHTML +=\r\n    '<i style=\"background:#d79700\"></i><span>Fraflyttet</span><br>';\r\n  div.innerHTML +=\r\n    '<i style=\"background:#298b30\"></i><span>Tilflyttet</span><br>';\r\n  div.innerHTML +=\r\n    '<i style=\"background:#c10a0a\"></i><span>Ophørt</span><br>';\r\n  return div;\r\n};\r\n\r\nclass MapData extends React.Component {\r\n  constructor(props) {\r\n    super(props); // console.log(props.data);\r\n    this.state = {\r\n      data: {},\r\n      renderLegend: false\r\n    };\r\n  }\r\n\r\n  renderMap(data) {\r\n    var myAttributionText =\r\n      '&copy; <a target=\"_blank\" href=\"https://download.kortforsyningen.dk/content/vilk%C3%A5r-og-betingelser\">Styrelsen for Dataforsyning og Effektivisering</a>';\r\n    var kftoken = \"d12107f70a3ee93153f313c7c502169a\";\r\n    var toposkaermkortwmts = L.tileLayer.wms(\r\n      \"https://services.kortforsyningen.dk/topo_skaermkort\",\r\n      {\r\n        layers: \"dtk_skaermkort_daempet\",\r\n        token: kftoken,\r\n        format: \"image/png\",\r\n        attribution: myAttributionText\r\n      }\r\n    );\r\n\r\n    var kommuneWms = L.tileLayer.wms(\r\n      \"https://services.kortforsyningen.dk/service?request=GetCapabilities&servicename=dagi\"\r\n       +\"&service=WMS&version=1.1.1\",\r\n       {\r\n         layers:\"kommune\",\r\n         format:\"image/png\",\r\n         token: kftoken,\r\n         transparent:true\r\n\r\n       }\r\n    );\r\n    window.lfMap = L.map(\"map\", {\r\n      center: [55.876823, 9.961644],//[55.2, 12.2],\r\n      zoom: 8,\r\n      layers: [\r\n        toposkaermkortwmts,\r\n        kommuneWms,\r\n      ]\r\n    });\r\n\r\n    // var legend = L.control({ position: \"bottomleft\" });\r\n    // legend.onAdd = function(map) {\r\n    //   var div = L.DomUtil.create(\"div\", \"legend\");\r\n    //   div.innerHTML += \"<h4>Signaturforklaring</h4>\";\r\n    //   div.innerHTML +=\r\n    //     '<i style=\"background:#0020d7\"></i><span>NyStartet</span><br>';\r\n    //   div.innerHTML +=\r\n    //     '<i style=\"background:#d79700\"></i><span>Fraflyttet</span><br>';\r\n    //   div.innerHTML +=\r\n    //     '<i style=\"background:#298b30\"></i><span>Tilflyttet</span><br>';\r\n    //   div.innerHTML +=\r\n    //     '<i style=\"background:#c10a0a\"></i><span>Ophørt</span><br>';\r\n    //   return div;\r\n    // };\r\n    // if(this.state.renderLegend){\r\n    //   legend.addTo(map);\r\n    // }\r\n\r\n     L.control.scale().addTo(window.lfMap);\r\n  }\r\n  renderFeatures(data) {\r\n    //console.log('renderfeatures'); console.log(data);\r\n   // this.setState({renderLegend : true});\r\n   legend.addTo(window.lfMap);\r\n    var costumIcon = function(status) {\r\n      function selector(status) {\r\n        switch (status) {\r\n          case \"Tilflytter\":\r\n            return \"img/t.png\";\r\n          case \"Fraflytter\":\r\n            return \"img/f.png\";\r\n          case \"Nystartet\":\r\n            return \"img/n.png\";\r\n          case \"Ophørt\":\r\n            return \"img/o.png\";\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      return L.icon({\r\n        iconUrl: selector(status),\r\n        shadowUrl: \"img/shadow.png\",\r\n        iconAnchor: [16, 37],\r\n        shadowAnchor: [20, 35],\r\n        popupAnchor: [0, -30]\r\n      });\r\n    };\r\n\r\n    if (\r\n      window.geojsonLayer !== undefined) {\r\n      window.lfMap.removeLayer(\r\n        window.geojsonLayer);\r\n    }\r\n\r\n    function getCenterPoint(data) {\r\n      let features = data.filter(feature =>\r\n        [\"Nystartet\", \"\"].includes(feature.properties.status)\r\n      );\r\n      if (features.length === 0) return null;\r\n      return features[0].geometry.coordinates;\r\n    }\r\n    function onEachFeature(feature, layer) {\r\n      layer.bindPopup(\r\n        \"<strong>\" +\r\n          feature.properties.status +\r\n          \"</strong></br><hr>\" +\r\n          feature.properties.navn +\r\n          '</br><a href=\"https://datacvr.virk.dk/data/visenhed?enhedstype=produktionsenhed&id=' +\r\n          feature.properties[\"p-nummer\"] +\r\n          '\" target=\"_blank\">Se mere her</a>'\r\n      );\r\n    }\r\n\r\n    window.geojsonLayer = L.geoJSON(data, {\r\n      onEachFeature: onEachFeature,\r\n      pointToLayer: function(feature, latlng) {\r\n        //return L.circleMarker(latlng, geojsonMarkerOptions);\r\n        return L.marker(latlng, {\r\n          icon: costumIcon(feature.properties.status)\r\n        });\r\n      }\r\n    }).addTo(window.lfMap);\r\n\r\n    let centerCoords = getCenterPoint(data);\r\n    if (centerCoords) window.lfMap.setView([centerCoords[1], centerCoords[0]], 12);\r\n    else window.lfMap.fitBounds(\r\n      window.geojsonLayer.getBounds());\r\n  }\r\n  componentDidMount() {\r\n    this.renderMap(this.props.data);\r\n    if (this.props.data.length > 0) {\r\n      this.renderFeatures(this.props.data);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    console.log(\"componentdidupdate\");\r\n    //const { data } = this.props;\r\n    //this.renderFeatures(data);\r\n    if (this.props.data.length > 0) {\r\n      this.renderFeatures(this.props.data);\r\n    } else {\r\n      console.log(\"props empty\");\r\n    }\r\n  }\r\n\r\n  renderMarkers(data) {\r\n    //select marker depending on status\r\n    //let mymap = this.map;\r\n    var costumIcon = function(status) {\r\n      function selector(status) {\r\n        switch (status) {\r\n          case \"Tilflytter\":\r\n            return \"img/t.png\";\r\n          case \"Fraflytter\":\r\n            return \"img/f.png\";\r\n          case \"Nystartet\":\r\n            return \"img/n.png\";\r\n          case \"Ophørt\":\r\n            return \"img/o.png\";\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      return L.icon({\r\n        iconUrl: selector(status),\r\n        shadowUrl: \"img/shadow.png\",\r\n        iconAnchor: [16, 37],\r\n        shadowAnchor: [20, 35],\r\n        popupAnchor: [0, -30]\r\n      });\r\n    };\r\n    //check if there is markers on the map and remove\r\n    if (geojsonLayer !== undefined) {\r\n      window.lfMap.removeLayer(\r\n        window.geojsonLayer);\r\n    }\r\n\r\n    function onEachFeature(feature, layer) {\r\n      //console.log(layer);\r\n      layer.bindPopup(\r\n        \"<strong>\" +\r\n          feature.properties.status +\r\n          \"</strong></br><hr>\" +\r\n          feature.properties.navn +\r\n          '</br><a href=\"https://datacvr.virk.dk/data/visenhed?enhedstype=produktionsenhed&id=' +\r\n          feature.properties[\"p-nummer\"] +\r\n          '\" target=\"_blank\">Se mere her</a>'\r\n      );\r\n    }\r\n\r\n    \r\nwindow.geojsonLayer = L.geoJSON(data, {\r\n      onEachFeature: onEachFeature,\r\n      pointToLayer: function(feature, latlng) {\r\n        return L.marker(latlng, {\r\n          icon: costumIcon(feature.properties.status)\r\n        });\r\n      }\r\n    }).addTo(window.lfMap);\r\n\r\n    // console.log(geojsonLayer.getBounds());\r\n    // map.fitBounds(geojsonLayer.getBounds());\r\n  }\r\n\r\n  render() {\r\n    return <div id=\"map\" style={style}></div>;\r\n  }\r\n}\r\n\r\nexport default MapData;\r\n","import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {\r\n  Template,\r\n  TemplatePlaceholder,\r\n  TemplateConnector,\r\n} from \"@devexpress/dx-react-core\";\r\n\r\nimport {\r\n  SortingState,\r\n  IntegratedSorting,\r\n  FilteringState,\r\n  IntegratedFiltering,\r\n  DataTypeProvider\r\n} from \"@devexpress/dx-react-grid\";\r\n\r\nimport {\r\n  Grid,\r\n  VirtualTable,\r\n  TableHeaderRow,\r\n  TableFilterRow,\r\n  TableColumnResizing\r\n} from \"@devexpress/dx-react-grid-material-ui\";\r\n\r\nconst getColor = status => {\r\n  if (status === \"Fraflytter\") return \"orange\";\r\n  else if (status === \"Tilflytter\") return \"green\";\r\n  else if (status === \"Nystartet\") return \"blue\";\r\n  else if (status === \"Ophørt\") return \"red\";\r\n  else return \"blue\";\r\n};\r\n\r\nconst StatusFormatter = ({ value }) => {\r\n  let color = getColor(value);\r\n  return <b style={{ color: color }}>{value}</b>;\r\n};\r\n\r\nconst StatusTypeProvider = props => (\r\n  <DataTypeProvider formatterComponent={StatusFormatter} {...props} />\r\n);\r\n\r\nconst PnummerFormatter = ({ value }) => {\r\n  let link = `https://datacvr.virk.dk/data/visenhed?enhedstype=produktionsenhed&id=${value}`;\r\n  return (\r\n    <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n      {value}\r\n    </a>\r\n  );\r\n};\r\n\r\nconst PnummerProvider = props => (\r\n  <DataTypeProvider formatterComponent={PnummerFormatter} {...props} />\r\n);\r\n\r\n\r\nconst getRowId = row => {\r\n  return row[\"keyIndex\"];\r\n};\r\n\r\nclass GridData extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rows: [],\r\n      data: [],\r\n      sorting: [{ columnName: \"hovedbranche\", direction: \"desc\" }],\r\n      statusColumns: [\"status\"],\r\n      pcols: [\"p-nummer\"],\r\n      grouping: [{ columnName: \"status\" }]\r\n    };\r\n    this.changeSorting = sorting => this.setState({ sorting });\r\n    this.changeGrouping = grouping => this.setState({ grouping });\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate() {}\r\n\r\n  render() {\r\n    const updateData = this.props.updateData;\r\n    const total = this.props.total;\r\n    const totalRendered = this.props.totalRendered;\r\n    const cols = [\r\n      { name: \"status\", title: \"Status\" },\r\n      { name: \"cvr-nummer\", title: \"CVR nummer\" },\r\n      { name: \"p-nummer\", title: \"P nummer\" },\r\n      { name: \"hovedbranche\", title: \"Branche\" },\r\n      { name: \"virksomhedsform\", title: \"virksomhedsform\" },\r\n      { name: \"navn\", title: \"Virksomhedsnavn\" },\r\n      { name: \"fuldt ansvarlige deltagere\", title: \"Kontaktperson\" },\r\n      { name: \"kvartalbes_interval\", title: \"Antal ansatte\" },\r\n      { name: \"kommunekode\", title: \"Kommunekode\" },\r\n      { name: \"vejnavn\", title: \"Vejnavn\" },\r\n      { name: \"husnummer\", title: \"Husnummer\" },\r\n      { name: \"postnummer\", title: \"Postnummer\" },\r\n      { name: \"postdistrikt\", title: \"By\" },\r\n      { name: \"emailadresse\", title: \"Email\" },\r\n      { name: \"startdato\", title: \"Startdato cvr\" },\r\n      { name: \"indlæst dato\", title: \"Indlæst dato\" }\r\n    ];\r\n\r\n    const defaultColumnWidths = [\r\n      { columnName: \"status\", width: 100 },\r\n      { columnName: \"cvr-nummer\", width: 100 },\r\n      { columnName: \"p-nummer\", width: 100 },\r\n      { columnName: \"hovedbranche\", width: 150 },\r\n      { columnName: \"virksomhedsform\", width: 150 },\r\n      { columnName: \"navn\", width: 150 },\r\n      { columnName: \"fuldt ansvarlige deltagere\", width: 120 },\r\n      { columnName: \"kvartalbes_interval\", width: 120 },\r\n      { columnName: \"kommunekode\", width: 120 },\r\n      { columnName: \"vejnavn\", width: 120 },\r\n      { columnName: \"husnummer\", width: 120 },\r\n      { columnName: \"postnummer\", width: 120 },\r\n      { columnName: \"postdistrikt\", width: 120 },\r\n      { columnName: \"emailadresse\", width: 120 },\r\n      { columnName: \"startdato\", width: 120 },\r\n      { columnName: \"indlæst dato\", width: 120 }\r\n    ];\r\n\r\n    const { statusColumns } = this.state;\r\n    const pc = this.state.pcols;\r\n    const rows = this.props.data.map((feature, index) => {\r\n      feature.properties[\"keyIndex\"] = index;\r\n      let s = feature.properties['fuldt ansvarlige deltagere'];\r\n      if(s !== null && s.length > 0)\r\n        feature.properties['fuldt ansvarlige deltagere'] = s.replace(/\"/g,'');\r\n      if(s === \"NULL\")\r\n        feature.properties['fuldt ansvarlige deltagere'] = \"\";\r\n      return feature.properties;\r\n    });\r\n\r\n    // console.log(rows);\r\n    return (\r\n      <Paper\r\n        style={{\r\n          height: \"100%\"\r\n        }}\r\n      >\r\n  <h6 style={{textAlign:\"center\"}}>{`${totalRendered} ud af ${total}`}</h6>\r\n        <Grid\r\n          rows={rows}\r\n          columns={cols}\r\n          getRowId={getRowId}\r\n          style={{\r\n            height: \"100%\"\r\n          }}\r\n        >\r\n          <FilteringState defaultFilters={[]} />\r\n          <IntegratedFiltering />\r\n          <SortingState\r\n            defaultSorting={[{ columnName: \"status\", direction: \"desc\" }]}\r\n          />\r\n          <IntegratedSorting />\r\n          <StatusTypeProvider for={statusColumns} />\r\n          <PnummerProvider for={pc} />\r\n          <VirtualTable height={600} />\r\n          <TableColumnResizing defaultColumnWidths={defaultColumnWidths} />\r\n          <TableHeaderRow showSortingControls />\r\n          <TableFilterRow />\r\n          <Template name=\"root\">  \r\n            <TemplateConnector>  \r\n              {({ rows: filteredRows }) => { \r\n                console.log(\"filteredRows\"); \r\n                console.log(filteredRows);\r\n                updateData(filteredRows);  \r\n                return <TemplatePlaceholder />;  \r\n              }}  \r\n            </TemplateConnector>  \r\n          </Template>\r\n        </Grid>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n/*\r\n\r\n                <FilteringState defaultFilters={[]} />\r\n                <IntegratedFiltering />\r\n                <SortingState defaultSorting={[{ columnName: 'status', direction: 'desc' }]} />\r\n                <IntegratedSorting />\r\n                <StatusTypeProvider \r\n                    for={statusColumns}\r\n                />\r\n                <VirtualTable\r\n                    height=\"auto\"\r\n                />\r\n                <TableColumnResizing defaultColumnWidths={defaultColumnWidths} />\r\n                <TableHeaderRow showSortingControls />\r\n                <TableFilterRow />\r\n\r\n*/\r\nexport default GridData;\r\n","import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { VictoryBar, VictoryChart, Bar, VictoryTheme } from \"victory\";\r\n\r\nconst getSummaryData = dat => {\r\n  let data = dat.map(feature => feature.properties);\r\n  let tilfl = data.filter(x => {\r\n    return x.status === \"Tilflytter\";\r\n  }).length;\r\n  let frafl = data.filter(x => x.status === \"Fraflytter\").length;\r\n  let oph = data.filter(x => x.status === \"Ophørt\").length;\r\n  let ny = data.filter(x => x.status === \"Nystartet\").length;\r\n  return [\r\n    { x: \"Fraflytter\", y: frafl },\r\n    { x: \"Tilflytter\", y: tilfl },\r\n    { x: \"Ophørt\", y: oph },\r\n    { x: \"Nystartet\", y: ny }\r\n  ];\r\n};\r\n\r\nclass GraphData extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      clicked: false,\r\n      style: {\r\n        data: { fill: \"tomato\" }\r\n      }\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const handleMouseOver = () => {\r\n      const fillColor = this.state.clicked ? \"blue\" : \"tomato\";\r\n      const clicked = !this.state.clicked;\r\n      this.setState({\r\n        clicked,\r\n        style: {\r\n          data: { fill: fillColor }\r\n        }\r\n      });\r\n    };\r\n\r\n    let catData = getSummaryData(this.props.data);\r\n\r\n    return (\r\n      <div>\r\n        <Paper style={{ height: 800, width:800, margin:'auto' }}>\r\n\r\n          <VictoryChart\r\n            height={200}\r\n            width={300}\r\n            theme={VictoryTheme.material}\r\n            domainPadding={15}\r\n          >\r\n            <VictoryBar\r\n              barWidth={8}\r\n              dataComponent={<Bar events={{ onMouseOver: handleMouseOver }} />}\r\n              style={{\r\n                data: {\r\n                  fill: d => {\r\n                    if (d.datum.x === \"Fraflytter\") return \"orange\";\r\n                    if (d.datum.x === \"Tilflytter\") return \"green\";\r\n                    if (d.datum.x === \"Ophørt\") return \"red\";\r\n                    if (d.datum.x === \"Nystartet\") return \"blue\";\r\n                  }\r\n                }\r\n              }}\r\n              data={catData}\r\n              labels={d => d.datum.y}\r\n            />\r\n          </VictoryChart>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GraphData;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function Title(){\r\n    return (\r\n        <Typography variant=\"h6\" color=\"inherit\">\r\n            CVR Flyttemønster\r\n        </Typography>\r\n    );\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles({\r\n  list: {\r\n    width: 450\r\n  },\r\n  fullList: {\r\n    width: \"auto\"\r\n  },\r\n  nested: {\r\n    paddingLeft: 30\r\n  }\r\n});\r\n\r\nexport default function TemporaryDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleDrawer = props.handleDrawer;\r\n  const filterCols = props.filterCols;\r\n  const handleCheckedFilters = props.handleCheckedFilters;\r\n  const reset = props.reset;\r\n  const doFilter = props.doFilter;\r\n  const filterWords = props.filterWords;\r\n\r\n  const [opened, setOpened] = React.useState({\r\n    status: false,\r\n    postdistrikt: false,\r\n    postnummer: false\r\n  });\r\n\r\n  \r\n  const handleClick = text => { \r\n    setOpened({\r\n      ...opened,\r\n      [text]: !opened[text]\r\n    });\r\n  };\r\n  \r\n\r\n  const _list = (cols,key) => {\r\n    return cols[key].map((col, index) => (\r\n      <ListItem key={key + \"_\" + index} button className={classes.nested}>\r\n        <ListItemText primary={Object.keys(col)[0]} />\r\n        <ListItemSecondaryAction>\r\n          <Checkbox\r\n            checked={Object.values(col)[0]}\r\n            onChange={(e) => handleCheckedFilters(key + \"_\" + Object.keys(col)[0], e)}\r\n            edge=\"end\"\r\n          />\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n    ));\r\n  }\r\n  const sideList = (categories, cols) => {\r\n    let comps = {};\r\n    categories.forEach(categorie => {\r\n      if (cols[categorie]) {\r\n        comps[categorie] = _list(cols,categorie);\r\n      }  \r\n    });\r\n    \r\n    return (\r\n      <div className={classes.list} role=\"presentation\">\r\n        <List>\r\n        <ListItem>\r\n            <ListItemIcon>\r\n              <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={doFilter}>\r\n                Filtrere\r\n              </Button>\r\n            </ListItemIcon>\r\n            <ListItemSecondaryAction>\r\n              <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={reset}>\r\n                Nulstil\r\n              </Button>\r\n            </ListItemSecondaryAction>\r\n          </ListItem>\r\n        </List>\r\n        <List dense>\r\n          {categories.map((text, index) => (\r\n            <React.Fragment key={\"cat_\"+index}>\r\n              <ListItem button key={text} onClick={() => handleClick(text)}>\r\n                <ListItemText primary={text} />\r\n                {opened[text] ? <ExpandLess /> : <ExpandMore />}\r\n              </ListItem>\r\n              <Collapse in={opened[text]} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding dense>\r\n                  {comps[text]}\r\n                </List>\r\n              </Collapse>\r\n            </React.Fragment>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* <Button onClick={toggleDrawer('right', true)}>Open Right</Button> */}\r\n      <Drawer anchor=\"right\" open={props.drawerOpen} onClose={handleDrawer}>\r\n        {sideList(filterWords, filterCols)}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\nroot: {\r\n    flexGrow: 1\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200\r\n  }\r\n}));\r\n\r\n\r\n\r\nfunction LoginComponent(props){\r\n    const classes = useStyles();\r\n    \r\n    // const [loginData, setLoginData] = React.useState({\r\n    //     email:{value:\"\", error:false, helperText:\"*\"},\r\n    //     password: {value:\"\", error:false, helperText:\"*\"},\r\n    // });\r\n\r\n    // const handleInputChange = (event) =>{\r\n    //     const target = event.target;\r\n    //     const value = target.value;\r\n    //     const name = target.name;\r\n\r\n    //     setLoginData({\r\n    //         ...loginData,\r\n    //         [name]: {\r\n    //             ...loginData[name],\r\n    //             value:value\r\n    //         }\r\n    //     })\r\n    // } \r\n\r\n    const loginData = props.loginData;\r\n    const handleInputChange = props.handleLoginDatachange;\r\n\r\n    return (\r\n        <>\r\n            <Grid item xs={3}>\r\n                <TextField \r\n                    className={classes.textField} \r\n                    id=\"standard-basic\" \r\n                    label=\"E-mail\" \r\n                    name=\"email\"\r\n                    value={loginData.email.value}\r\n                   // error={loginData.email.value.length < 3}\r\n                    onChange={handleInputChange}\r\n                    />\r\n            </Grid>\r\n            \r\n            <Grid item xs={3}>\r\n                <TextField \r\n                    type=\"password\" \r\n                    className={classes.textField} \r\n                    id=\"standard-basic\" \r\n                    label=\"Adgangskode\" \r\n                    name=\"password\"\r\n                   // error={loginData.password.value.length < 3}\r\n                    value={loginData.password.value}\r\n                    onChange={handleInputChange}\r\n                    />\r\n            </Grid>\r\n            \r\n        </> \r\n    );\r\n}\r\n\r\nexport default LoginComponent;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\n\r\nexport default function CreateUserDialog(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [userInfo, setUserInfo] = React.useState({\r\n    name: {value:\"\", error:false, helperText:\"*\"},\r\n    email: {value:\"\", error:false, helperText:\"*\"},\r\n    organisation:{value:\"\", error:false, helperText:\"*\"},\r\n    password:{value:\"\", error:false, helperText:\"*\"},\r\n    password2:{value:\"\", error:false, helperText:\"*\"},\r\n    consent: {value:true, error:false, helperText:\"*\"},\r\n    btnDisabled : true\r\n  });\r\n\r\n  // const [errors, setErrors] = React.useState({\r\n  //   name: false,\r\n  //   email: false,\r\n  //   organisation:false,\r\n  //   password:false,\r\n  //   password2:false,\r\n  // });\r\n\r\n  // const [isBtnDesabled, setIsBtnDisabled] = React.useState(false);\r\n\r\n  // const isDisabled = () => userInfo.name.error || userInfo.email.error\r\n  //                         || userInfo.organisation.error || userInfo.password.error\r\n  //                         || userInfo.password2.error || !userInfo.consent.value;\r\n\r\n  const isDisabled = () =>  (displayError(\"name\") || displayError(\"email\") || displayError(\"organisation\")\r\n                              || displayError(\"password\") || displayError(\"password2\") || !userInfo.consent.value\r\n                            )\r\n  \r\n  const displayError = (name) => {\r\n    if(name === \"password2\" \r\n      && userInfo[name].value.length < 2\r\n      && userInfo.password.value !== userInfo.password2.value){\r\n        console.log(userInfo.password.value,\" and \",userInfo.password2.value,\" are not equal\")\r\n        return true;\r\n      }\r\n\r\n    if(userInfo[name].value.length < 2) return true;\r\n\r\n    return false\r\n    \r\n  }\r\n\r\n  // const displayErrors = () => ({\r\n  //   name: userInfo.name.value.length < 2,\r\n  //   email: userInfo.email.value.length < 2,\r\n  //   organisation: userInfo.organisation.value.length < 2,\r\n  //   password: userInfo.password.value.length < 2,\r\n  //   password2 : userInfo.password.value !== userInfo.password2.value\r\n  // });\r\n\r\n  // const handleClickOpen = () => {\r\n  //   setOpen(true);\r\n  // };\r\n\r\n  // const handleClose = () => {\r\n  //   setOpen(false);\r\n  // };\r\n\r\n  const handleInputChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    setUserInfo({\r\n      ...userInfo,\r\n      [name]:{\r\n        ...userInfo[name],\r\n        value:value,\r\n        error: displayError(name)\r\n      },\r\n      btnDisabled: isDisabled()\r\n    });\r\n\r\n  }\r\n\r\n  \r\n  \r\n  const handleRegister = () => {\r\n    let data = {\r\n      name: userInfo.name.value,\r\n      email: userInfo.email.value,\r\n      organisation: userInfo.organisation.value,\r\n      password: userInfo.password.value\r\n    }\r\n    props.handleRegister(data);\r\n   // props.handleCreateDialogClose();\r\n  }\r\n\r\n  // const handleOpen = props.handleCreateDialogOpen;\r\n  const handleDialogClose = props.handleCreateDialogClose;\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <Dialog open={props.isRegisterFormShown} onClose={handleDialogClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Opret dig som bruger</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            \r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            label=\"Navn:\"\r\n            type=\"email\"\r\n            value={userInfo.name.value}\r\n            error={userInfo.name.error}\r\n            helperText={userInfo.name.helperText}\r\n            onChange={handleInputChange}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"organisation\"\r\n            name=\"organisation\"\r\n            label=\"Organisation:\"\r\n            type=\"email\"\r\n            value={userInfo.organisation.value}\r\n            onChange={handleInputChange}\r\n            error={userInfo.organisation.error}\r\n            helperText={userInfo.organisation.helperText}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            label=\"Email Address\"\r\n            type=\"email\"\r\n            value={userInfo.email.value}\r\n            error={userInfo.email.error}\r\n            helperText={userInfo.email.helperText}\r\n            onChange={handleInputChange}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            label=\"Adganskode:\"\r\n            type=\"password\"\r\n            value={userInfo.password.value}\r\n            error={userInfo.password.error}\r\n            helperText={userInfo.password.helperText}\r\n            onChange={handleInputChange}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"password2\"\r\n            name=\"password2\"\r\n            label=\"Gentag adgangskode:\"\r\n            type=\"password\"\r\n            value={userInfo.password2.value}\r\n            error={userInfo.password2.error}\r\n            helperText={userInfo.password2.helperText}\r\n            onChange={handleInputChange}\r\n            fullWidth\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox \r\n                        checked={userInfo.consent.value}\r\n                        name=\"consent\"\r\n                        onChange={handleInputChange} />\r\n            }\r\n            \r\n            label=\"Med min oprettelse som bruger giver jeg mit samtykke til, at mine oplysninger bliver opbevaret, således at projektet kan kontakte mig, fx. ifm. driftforstyrelser, nye versioner, nye tiltag, mv.\"\r\n          />\r\n          {!userInfo.consent.value &&\r\n            <FormHelperText error>Du skal give samtykke</FormHelperText>\r\n          }\r\n          {userInfo.btnDisabled &&\r\n            <FormHelperText error>Alle felter skal udfyldes korrekt.</FormHelperText>\r\n          }\r\n        </DialogContent>\r\n        <DialogActions style={{justifyContent: 'center'}} >\r\n          \r\n          <Button  disabled={userInfo.btnDisabled} variant=\"contained\" onClick={handleRegister} color=\"primary\">\r\n            Opret\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n// import Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n// import ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n// import InboxIcon from '@material-ui/icons/MoveToInbox';\r\n// import DraftsIcon from '@material-ui/icons/Drafts';\r\n// import SendIcon from '@material-ui/icons/Send';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: '1px solid #d3d4d5',\r\n  },\r\n})((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'center',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'center',\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\r\n    '&:focus': {\r\n      backgroundColor: theme.palette.primary.main,\r\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n        color: theme.palette.common.white,\r\n      },\r\n    },\r\n  },\r\n}))(MenuItem);\r\n\r\nexport default function Logout(props) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n      >\r\n        <AccountCircleIcon/>\r\n      </IconButton>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        \r\n        <StyledMenuItem\r\n         onClick = {props.handleLogout}\r\n        >\r\n          {/* <ListItemIcon>\r\n            <InboxIcon fontSize=\"small\" />\r\n          </ListItemIcon> */}\r\n          <ListItemText primary=\"Log ud\" />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nimport moment from \"moment\";\r\nimport \"moment/locale/da\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport CloudDownload from \"@material-ui/icons/CloudDownload\";\r\nimport Map from \"@material-ui/icons/Map\";\r\nimport TableChart from \"@material-ui/icons/TableChart\";\r\nimport BarChart from \"@material-ui/icons/BarChart\";\r\nimport MomentUtils from \"@date-io/moment\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Link from '@material-ui/core/Link';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MapData from \"./Map.js\";\r\nimport GridData from \"./Grid.js\";\r\nimport GraphData from \"./Graph.js\";\r\nimport Title from \"./components/Title\";\r\n\r\nimport \"./App.css\";\r\nimport classnames from \"classnames\";\r\nimport ReactExport from \"react-data-export\";\r\nimport jQuery from \"jquery\";\r\nimport { navigate } from \"@reach/router\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport TemporaryDrawer from \"./Drawer\";\r\nimport LoginComponent from \"./components/Login/Login\";\r\nimport CreateUserDialog from \"./components/Register/create\";\r\nimport Logout from \"./components/Logout\";\r\n\r\nmoment.locale(\"da\");\r\n\r\n\r\nconst ExcelFile = ReactExport.ExcelFile;\r\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\r\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\r\nconst filterWords = [\"status\", \"virksomhedsform\", \"hovedbranche\"];\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200\r\n  },\r\n  dense: {\r\n    marginTop: 19\r\n  },\r\n  menu: {\r\n    width: 300\r\n  },\r\n  progress: {\r\n    margin: theme.spacing(1) * 2\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4)\r\n  }\r\n});\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n    suppressDeprecationWarnings: true\r\n  }\r\n});\r\n\r\nfunction uniqueValues(colValues) {\r\n  let vals = [...new Set(colValues)];\r\n  return vals;\r\n}\r\n\r\nconst getVirkForm = form =>{\r\n  switch(form){\r\n    case 10 : return \"Enkeltmandsvirksomhed\";\r\n    case 15 : return \"Personligt ejet Mindre Virksomhed\";\r\n    case 20 : return \"Dødsbo\";\r\n    case 30 : return \"Interessentskab\";\r\n    case 40 : return \"Kommanditselskab\";\r\n    case 45 : return \"Medarbejderinvesteringsselskab\";\r\n    case 50 : return \"Partrederi\";\r\n    case 60 : return \"Aktieselskab\";\r\n    case 70 : return \"Kommanditaktieselskab/Partnerskab\";\r\n    case 80 : return \"Anpartsselskab\";\r\n    case 81 : return \"Iværksætterselskab\";\r\n    case 90 : return \"Fond\";\r\n    case 100 : return \"Erhvervsdrivende fond\";\r\n    case 110 : return \"Forening\";\r\n    case 115 : return \"Frivillig forening\";\r\n    case 130 : return \"Andelselskab(-forening)\";\r\n    case 140 : return \"Andelselskab(-forening) med begrænset ansvar\";\r\n    case 150 : return \"Forening eller selskab med begrænset ansvar\";\r\n    case 151 : return \"Selskab med begrænset ansvar\";\r\n    case 152 : return \"Forening med begrænset ansvar\";\r\n    case 160 : return \"Europæisk Økonomisk Firmagruppe\";\r\n    case 170 : return \"Filial af udenlandsk aktieselskab, kommanditakties\";\r\n    case 180 : return \"Filial af udenlandsk anpartselskab eller selskab\";\r\n    case 190 : return \"Filial af udenlandsk virksomhed med begrænset ansv\";\r\n    case 195 : return \"SCE-selskab\";\r\n    case 196 : return \"Filial af SCE-selskab\";\r\n    case 200 : return \"Filial af anden udenlandsk virksomhed\";\r\n    case 210 : return \"Anden udenlandsk virksomhed\";\r\n    case 220 : return \"Fast forretningssted af Europæisk økonomisk Firmag\";\r\n    case 230 : return \"Offentlige arbejdsplads\";\r\n    case 235 : return \"Offentlige arbejdsplads\";\r\n    case 245 : return \"Offentlige arbejdsplads\";\r\n    case 250 : return \"Offentlige arbejdsplads\";\r\n    case 260 : return \"Folkekirkelige institutioner\";\r\n    case 270 : return \"Enhed under oprettelse i Erhvervs- og Selskabsstyr\";\r\n    case 280 : return \"Øvrige virksomhedsformer\";\r\n    case 285 : return \"Særlig finansiel virksomhedsform\";\r\n    case 290 : return \"SE-selskab\";\r\n    case 291 : return \"Filial af SE-selskab\";\r\n    case 990 : return \"Uoplyst virksomhedsform\";\r\n    default : return form;\r\n  }\r\n}\r\n\r\nfunction uniqueValuesGroupedByKey(arrOfObj, keys) {\r\n  let ret = {};\r\n\r\n  function uniqueElemsOfSameKey(_arrOfObj, key) {\r\n    const values = _arrOfObj.map(elem => elem[key]);\r\n    let ret  = uniqueValues(values);\r\n    ret = ret.map(elem => ({[elem] :false}));\r\n    return ret;\r\n  }\r\n\r\n  keys.forEach(key => {\r\n    ret[key] = uniqueElemsOfSameKey(arrOfObj, key);\r\n  });\r\n\r\n  return ret;\r\n}\r\n\r\nfunction TabContainer(props) {\r\n  return <div>{props.children}</div>;\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired\r\n};\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: 0,\r\n      startDate: moment()\r\n        .subtract(1, \"months\")\r\n        .startOf(\"month\")\r\n        .format(\"YYYY-MM-DD\"),\r\n      endDate: moment()\r\n        .subtract(1, \"months\")\r\n        .endOf(\"month\")\r\n        .format(\"YYYY-MM-DD\"),\r\n      data: [],\r\n      kommuner: [],\r\n      komkode: this.props.komnr,// || '165',\r\n     \r\n      csvData: [], \r\n      loading: true,\r\n      completed: 0,\r\n      canSendRequest: false,\r\n      filterOpen: false,\r\n      drawerOpen: false,\r\n      alertOpen: false,\r\n      alertMessage: '',\r\n      uniqueVals: {},\r\n      dataToRender: [],\r\n      isLoginShown : true,\r\n      isRegisterFormShown : false,\r\n      sessionId : \"\",\r\n      loginData:{\r\n        email:{value:\"\", error:false, helperText:\"*\"},\r\n        password: {value:\"\", error:false, helperText:\"*\"}\r\n      },\r\n      // registrationData: {\r\n      //   name: {value:\"\", error:false, helperText:\"*\"},\r\n      //   email: {value:\"\", error:false, helperText:\"*\"},\r\n      //   organisation:{value:\"\", error:false, helperText:\"*\"},\r\n      //   password:{value:\"\", error:false, helperText:\"*\"},\r\n      //   password2:{value:\"\", error:false, helperText:\"*\"},\r\n      //   consent: {value:true, error:false, helperText:\"*\"},\r\n      //   btnDisabled : true\r\n      // } \r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleStart = this.handleStart.bind(this);\r\n    this.handleEnd = this.handleEnd.bind(this);\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n    this.handleDoneClick = this.handleDoneClick.bind(this);\r\n    this.handleFilterOpen = this.handleFilterOpen.bind(this);\r\n    this.handleFilterClose = this.handleFilterClose.bind(this);\r\n    this.handleDrawerOpen = this.handleDrawerOpen.bind(this);\r\n    this.handleCheckedFilters = this.handleCheckedFilters.bind(this);\r\n    this.reset = this.reset.bind(this);\r\n    this.updateRenderDataFromTable = this.updateRenderDataFromTable.bind(this);\r\n    this.doFilter = this.doFilter.bind(this);\r\n    this.onAlertClose = this.onAlertClose.bind(this);\r\n    this.handleCreateDialogOpen = this.handleCreateDialogOpen.bind(this);\r\n    this.handleCreateDialogClose = this.handleCreateDialogClose.bind(this);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n    this.handleLogout = this.handleLogout.bind(this);\r\n    this.handleRegister = this.handleRegister.bind(this);\r\n    this.handleLoginDatachange = this.handleLoginDatachange.bind(this);\r\n  }\r\n\r\n  onAlertClose(){\r\n    this.setState({alertOpen: false});\r\n  }\r\n\r\n  handleLoginDatachange(event){\r\n    let that = this;\r\n    console.log(\"I was called!!!\");\r\n      const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        that.setState({\r\n          loginData: {\r\n            ...this.state.loginData,\r\n            [name]: {\r\n                ...this.state.loginData[name],\r\n                value:value\r\n            }\r\n          }\r\n        });\r\n  }\r\n\r\n  doFilter(){\r\n    const uniqueVals = this.state.uniqueVals;\r\n    const filteredCategories = Object.keys(uniqueVals);\r\n    let filters = {};\r\n    filteredCategories.forEach(cat =>{\r\n      let temp = uniqueVals[cat];\r\n      \r\n      filters[cat] = temp.filter(obj => {\r\n        return Object.values(obj)[0] === true;\r\n      })\r\n     .map(elem => {\r\n        return Object.keys(elem)[0];\r\n      }); \r\n     });\r\n     const dataToRender = this.state.dataToRender;\r\n     const data = dataToRender.filter(row => {\r\n      let res = true;\r\n      filteredCategories.forEach(key =>{\r\n        if(filters[key].length > 0 \r\n          && filters[key].indexOf(row.properties[key]) === -1)\r\n              res = false;\r\n      });\r\n      return res;\r\n     });\r\n     const message = `${data.length} ud af ${this.state.data.length}`;\r\n     this.setState({\r\n       dataToRender : data, \r\n       drawerOpen : false,\r\n       alertMessage: message,\r\n       alertOpen: true\r\n      });\r\n     \r\n  }\r\n\r\n  updateRenderDataFromTable(filteredRows){\r\n    this.setState({csvData: filteredRows});\r\n  }\r\n\r\n  reset(){\r\n    this.setState({\r\n      dataToRender: this.state.data, \r\n      uniqueVals: uniqueValuesGroupedByKey(\r\n        this.state.data.map(feature => feature.properties), \r\n        filterWords\r\n        )\r\n    });\r\n  }\r\n\r\n  handleCheckedFilters(text, event){ \r\n    let [group, name] = text.split(\"_\");\r\n    let checkedGroup = this.state.uniqueVals[group];\r\n    let indexToUpdate = checkedGroup.findIndex(elem => Object.keys(elem)[0] === name);\r\n    let elementToUpdate = checkedGroup[indexToUpdate];\r\n    //Toggle to false or true\r\n    elementToUpdate[name] = !elementToUpdate[name];\r\n\r\n    this.setState({uniqueVals:{\r\n      ...this.state.uniqueVals,\r\n      [group]: [\r\n        ...checkedGroup.slice(0,indexToUpdate),\r\n        elementToUpdate,\r\n        ...checkedGroup.slice(indexToUpdate+1)\r\n      ]\r\n    }});\r\n  }\r\n\r\n  handleFilterOpen() {\r\n    this.setState({ filterOpen: !this.state.filterOpen });\r\n  }\r\n\r\n  handleLogin(){\r\n    this.setState({sessionId : \"loggedin\"});\r\n  }\r\n\r\n  \r\n\r\n  handleLogout(){\r\n    this.setState({\r\n      sessionId : \"\",\r\n      data: [],\r\n      csvData : [],\r\n      dataToRender : []\r\n    });\r\n    if(window.lfMap && window.geojsonLayer){ console.log(\"removelayer called\");\r\n      window.lfMap.removeLayer(window.geojsonLayer);\r\n    }\r\n  }\r\n\r\n  handleDrawerOpen() {\r\n    this.setState({ drawerOpen: !this.state.drawerOpen });\r\n  }\r\n\r\n  handleFilterClose() {\r\n    this.setState({ filterOpen: false });\r\n  }\r\n /*\r\n  https://drayton.mapcentia.com/api/v1/sql/ballerup?q=select right(komkode, 3)::int komkode,komnavn from data.kommune group by komkode, komnavn order by komnavn\r\n */\r\n  getKommuner() {\r\n    let komUrl =\r\n      \"https://drayton.mapcentia.com/api/v1/sql/ballerup?q=select right(komkode, 3)::int komkode, \" +\r\n      \"komnavn from data.kommune group by komkode, komnavn order by komnavn\";\r\n    komUrl = \"kom.json\";\r\n    let that = this;\r\n    jQuery.ajax({\r\n      url: komUrl,\r\n      type: \"GET\",\r\n      dataType: \"json\",\r\n      success: function(res) {\r\n        let koms = res.features.map(feature => feature.properties);\r\n        that.setState(preveState => ({ kommuner: koms }));\r\n      }\r\n    });\r\n  }\r\n\r\n  handleRegister(userObj){\r\n    let that = this;\r\n    let userUrl = \"https://offentligedata.admin.gc2.io/api/v2/user\";\r\n    let sessionUrl = \"https://offentligedata.admin.gc2.io/api/v2/session/start\";\r\n\r\n    let data = {\r\n      name: userObj.name,\r\n      email: userObj.email,\r\n      password: userObj.password,\r\n      subuser: true,\r\n      usergroup: \"My group\",\r\n      parentdb: \"ballerup\",\r\n      properties: {\r\n        org: userObj.organisation\r\n      }\r\n    }\r\n\r\n    let _loginData = {\r\n      user: userObj.name,\r\n      password: userObj.password,\r\n      schema: \"ballerup\"\r\n    }\r\n\r\n    jQuery.post(userUrl, JSON.stringify(data), function(res){\r\n      console.log(\"data posted successfully!\");\r\n      console.log(res);\r\n      if(res && res.success){\r\n        jQuery.get(sessionUrl, _loginData, function(res){\r\n          if(res && res.success){\r\n            that.setState({sessionId: res.data.session_id});\r\n            console.log(\"login succeeded, session id: \", res.data.session_id);\r\n          }\r\n        },\"json\");\r\n      }\r\n\r\n    },\r\n    \"json\");\r\n\r\n    // jQuery.ajax({\r\n    //   url: userUrl,\r\n    //   type: \"POST\",\r\n    //   dataType: \"jsonp\",\r\n    //   success: function(res){\r\n\r\n    //   }\r\n\r\n    // });\r\n    this.setState({sessionId : \"loggedin\"});\r\n  }\r\n\r\n  getData(komkode, startDate, endDate) {\r\n    this.setState(preveState => ({ csvData: [], loading: true }));\r\n    let that = this;\r\n    if (!komkode) {\r\n      this.setState({ loading: false });\r\n      return;\r\n    }\r\n    let dataUrl =\r\n      \"https://drayton.mapcentia.com/api/v1/sql/ballerup?q=SELECT * FROM cvr.flyt_fad_dev(\" +\r\n      komkode +\r\n      \",'\"+ startDate +\"','\"+ endDate +\"')&srs=4326\";\r\n      jQuery.ajax({\r\n      url: dataUrl,\r\n      type: \"GET\",\r\n      dataType: \"jsonp\",\r\n      success: function(res) {\r\n        let csv = res.features.map(feature => feature.properties);\r\n        res.features.forEach(feature => {\r\n          let form = feature.properties.virksomhedsform;\r\n          feature.properties.virksomhedsform = getVirkForm(form);\r\n          let _startdato = feature.properties.startdato;\r\n          feature.properties.startdato = (_startdato && _startdato.length > 0) ?\r\n                    _startdato.substring(0,10) : '';\r\n        });\r\n        that.setState(prevState => ({\r\n          csvData: csv,\r\n          data: res.features,\r\n          dataToRender: res.features,\r\n          loading: false,\r\n          uniqueVals: uniqueValuesGroupedByKey(csv,filterWords)\r\n        }));\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSelect(event) {\r\n    event.persist();\r\n    this.setState(prevState => ({ komkode: event.target.value }));\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { komkode, startDate, endDate } = this.state;\r\n    this.getData(komkode, startDate, endDate);\r\n    this.getKommuner();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n  }\r\n\r\n  handleChange(event, value) {\r\n    this.setState({ value });\r\n  }\r\n\r\n  handleDoneClick() {\r\n    let { komkode, startDate, endDate } = this.state;\r\n    if(!komkode) komkode = 165;\r\n    this.getData(komkode, startDate, endDate);\r\n    navigate(\"#/\" + komkode);\r\n  }\r\n\r\n  handleStart(date) {\r\n    this.setState({\r\n      startDate: date.format(\"YYYY-MM-DD\")\r\n    });\r\n  }\r\n\r\n  handleEnd(date) {\r\n    this.setState({\r\n      endDate: date.format(\"YYYY-MM-DD\")\r\n    });\r\n  }\r\n\r\n  handleCreateDialogOpen(){\r\n    console.log(\"Createdialog open\")\r\n    this.setState({\r\n      isRegisterFormShown : true,\r\n      isLoginShown : false\r\n    });\r\n  }\r\n\r\n  handleCreateDialogClose(){\r\n    this.setState({\r\n      isRegisterFormShown : false,\r\n      isLoginShown : true  \r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { value, startDate, endDate, kommuner, komkode } = this.state;\r\n    const locale = \"da\";\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        <div className=\"app\">\r\n          <div className={this.state.loading ? \"loading\" : \"\"}></div>\r\n          \r\n          <TemporaryDrawer\r\n            handleDrawer={this.handleDrawerOpen}\r\n            drawerOpen={this.state.drawerOpen}\r\n            filterCols={this.state.uniqueVals}\r\n            handleCheckedFilters={this.handleCheckedFilters}\r\n            reset={this.reset}\r\n            doFilter={this.doFilter}\r\n            filterWords={filterWords}\r\n          />\r\n\r\n          <CreateUserDialog \r\n            handleRegister = {this.handleRegister}\r\n            isRegisterFormShown={this.state.isRegisterFormShown}\r\n            handleCreateDialogClose={this.handleCreateDialogClose}\r\n            handleCreateDialogOpen={this.handleCreateDialogOpen}\r\n          />\r\n          <div className=\"\">\r\n            <AppBar position=\"static\" color=\"default\">\r\n              <Toolbar>\r\n                <Grid container>\r\n                  <Grid item xs={2}>\r\n                    <Title/>\r\n                  </Grid>\r\n                  {this.state.sessionId === \"\" && (\r\n                    <>\r\n                  {/* <Grid item xs={7}> */}\r\n                    <LoginComponent \r\n                      loginData={this.state.loginData}\r\n                      handleLoginDatachange = {this.handleLoginDatachange} \r\n                    /> \r\n                  {/* </Grid> */}\r\n                  <Grid item xs={1}>\r\n                      <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={this.handleLogin}>\r\n                      Log på\r\n                      </Button> \r\n                  </Grid> \r\n                  {/* <Grid item xs={1}>eller</Grid> */}\r\n                   <Grid item xs={2}>\r\n                   eller &nbsp;<Link color=\"inherit\" underline=\"always\" component=\"button\" onClick={this.handleCreateDialogOpen} size=\"small\">Opret dig som bruger</Link>\r\n                    </Grid>\r\n                  {/*<Grid item xs={2}>\r\n                    \r\n                {/*</Grid>*/}\r\n                </>\r\n                  )}\r\n                  \r\n                  {this.state.sessionId !== \"\" && (\r\n\r\n\r\n                    <>\r\n                    <Grid item xs={2}>\r\n                      <form\r\n                        className={classnames.container}\r\n                        noValidate\r\n                        autoComplete=\"off\"\r\n                      >\r\n                        <TextField\r\n                          id=\"standard-select\"\r\n                          select\r\n                          label=\"Kommune\"\r\n                          placeholder=\"Placeholder\"\r\n                          className={classnames.textField}\r\n                          value={this.state.komkode || \"\"}\r\n                          onChange={this.handleSelect}\r\n                          SelectProps={{\r\n                            native: true\r\n                          }}\r\n                          helperText=\"\"\r\n                          InputLabelProps={{ shrink: true }}\r\n                        >\r\n                          {kommuner.map(kom => {\r\n                            \r\n                            return (\r\n                              <option key={kom.komkode} value={kom.komkode}>\r\n                                {kom.komnavn}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </TextField>\r\n                      </form>\r\n                    </Grid>\r\n                    <Grid item xs={2}>\r\n                      <MuiPickersUtilsProvider\r\n                        utils={MomentUtils}\r\n                        locale={locale}\r\n                        moment={moment}\r\n                      >\r\n                        <DatePicker\r\n                          value={startDate}\r\n                          label=\"Startdato\"\r\n                          format=\"DD MMM YYYY\"\r\n                          onChange={this.handleStart}\r\n                        />\r\n                      </MuiPickersUtilsProvider>\r\n                    </Grid>\r\n                    <Grid item xs={2}>\r\n                      <MuiPickersUtilsProvider utils={MomentUtils}>\r\n                        <DatePicker\r\n                          value={endDate}\r\n                          label=\"Slutdato\"\r\n                          format=\"DD MMM YYYY\"\r\n                          onChange={this.handleEnd}\r\n                        />\r\n                      </MuiPickersUtilsProvider>\r\n                    </Grid>\r\n                    \r\n                    </>  \r\n                  )}\r\n\r\n                  {this.state.sessionId !== \"\" &&(\r\n                    <>\r\n                    \r\n                   <Grid item xs={3}>\r\n                    <IconButton\r\n                      arial-label=\"Done\"\r\n                      onClick={this.handleDoneClick}\r\n                    >\r\n                      <Tooltip title=\"Send\">\r\n                        <SendIcon />\r\n                      </Tooltip>\r\n                    </IconButton>\r\n                    <IconButton\r\n                      arial-label=\"Filter\"\r\n                      onClick={this.handleDrawerOpen}\r\n                    >\r\n                      <Tooltip title=\"Filter\">\r\n                        <FilterListIcon />\r\n                      </Tooltip>\r\n                    </IconButton>\r\n                    {this.state.csvData.length > 0 && (\r\n                      <ExcelFile\r\n                        element={\r\n                          <IconButton arial-label=\"Excel\">\r\n                            <Tooltip title=\"Download Excel\">\r\n                              <CloudDownload />\r\n                            </Tooltip>\r\n                          </IconButton>\r\n                        }\r\n                        filename={\r\n                          \"export_\" + komkode + \"_\" + startDate + \"_\" + endDate\r\n                        }\r\n                      >\r\n                        <ExcelSheet data={this.state.csvData} name=\"CVR\">\r\n                          <ExcelColumn label=\"Status\" value=\"status\" />\r\n                          <ExcelColumn label=\"CVR nummer\" value=\"cvr-nummer\" />\r\n                          <ExcelColumn label=\"P nummer\" value=\"p-nummer\" />\r\n                          <ExcelColumn label=\"Branche\" value=\"hovedbranche\" />\r\n                          <ExcelColumn label=\"virksomhedsform\" value=\"virksomhedsform\" />\r\n                          <ExcelColumn label=\"Virksomhedsnavn\" value=\"navn\" />\r\n                          <ExcelColumn\r\n                            label=\"Kontaktperson\"\r\n                            value=\"fuldt ansvarlige deltagere\"\r\n                          />\r\n                          <ExcelColumn label=\"kvartalbes_interval\" value=\"Antal ansatte\" />\r\n                          <ExcelColumn\r\n                            label=\"Kommunekode\"\r\n                            value=\"kommunekode\"\r\n                          />\r\n                          <ExcelColumn label=\"vejnavn\" value=\"vejnavn\" />\r\n                          <ExcelColumn label=\"Husnummer\" value=\"husnummer\" />\r\n                          <ExcelColumn label=\"Postnummer\" value=\"postnummer\" />\r\n                          <ExcelColumn label=\"By\" value=\"postdistrikt\" />\r\n                          <ExcelColumn label=\"Email\" value=\"emailadresse\" />\r\n                          <ExcelColumn\r\n                            label=\"Indlæst dato\"\r\n                            value=\"indlæst dato\"\r\n                          />\r\n                        </ExcelSheet>\r\n                      </ExcelFile>\r\n                    )}\r\n                                    \r\n                  </Grid> \r\n                  <Grid item xs={1}>\r\n                    <Logout handleLogout={this.handleLogout}/>\r\n                  </Grid>\r\n                    </>\r\n                  )}    \r\n                  \r\n\r\n                  \r\n                </Grid>\r\n              </Toolbar>\r\n            </AppBar>\r\n\r\n            <Tabs value={value} onChange={this.handleChange} centered>\r\n              <Tab\r\n                icon={\r\n                  <Tooltip title=\"Kort\">\r\n                    <Map />\r\n                  </Tooltip>\r\n                }\r\n              />\r\n              <Tab\r\n                icon={\r\n                  <Tooltip title=\"Tabel\">\r\n                    <TableChart />\r\n                  </Tooltip>\r\n                }\r\n                aria-label=\"Tabel\"\r\n              />\r\n              <Tab\r\n                icon={\r\n                  <Tooltip title=\"Histogram\">\r\n                    <BarChart />\r\n                  </Tooltip>\r\n                }\r\n              />\r\n              \r\n            </Tabs>\r\n            {value === 0 && (\r\n              <TabContainer>\r\n                <MapData data={this.state.dataToRender} />\r\n              </TabContainer>\r\n            )}\r\n            {value === 1 && (\r\n              <TabContainer>\r\n                <GridData \r\n                  data={this.state.dataToRender} \r\n                  updateData={this.updateRenderDataFromTable}\r\n                  total={this.state.data.length}\r\n                  totalRendered={this.state.csvData.length}\r\n                  />\r\n              </TabContainer>\r\n            )}\r\n            {value === 2 && (\r\n              <TabContainer>\r\n                <GraphData data={this.state.dataToRender} />\r\n              </TabContainer>\r\n            )}\r\n          </div>\r\n        </div>\r\n   \r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(App);\r\n\r\n","import React from \"react\";\r\nimport { createHistory, LocationProvider, Router } from \"@reach/router\";\r\nimport createHashSource from \"hash-source\";\r\nimport App from \"./App\";\r\n\r\nlet source = createHashSource();\r\nlet history = createHistory(source);\r\n\r\nconst Home = () => (\r\n  <LocationProvider history={history}>\r\n    <Router>\r\n      <App path=\"/\" />\r\n      <App path=\"/:komnr\" />\r\n    </Router>\r\n  </LocationProvider>\r\n);\r\n\r\nexport default Home;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n//import App from './App';\r\nimport Home from \"./Home\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<Home />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}